<!DOCTYPE html>  
<html lang="en">  
<head>  {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Complain Nigeria-Submit Complaint</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/fonts/icomoon/style.css">
    <link rel="stylesheet" href="/static/css2/owl.carousel.min.css">
    <link rel="stylesheet" href="/static/css2/style.css">
    <link rel="stylesheet" href="/static/css2/bootstrap.min.css">
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
<style>
    *{margin-top: 0px !important;}
    #three:hover {color:black !important;}
    .one {text-shadow: 2px 2px white;}
    .four:hover{
        color: black !important;
        }
</style>
</head>  
<body>  
  {% if user.is_authenticated %}


  <div class="container-fluid" style="background-image: url('/static/images/ovinuchi-ejiohuo-OxesnxkySD0-unsplash.jpg');background-size:100% 100%;">
      <div>Hi {{ user.username }}!</div>

      <form action="{% url 'index' %}" method="GET" value="{{request.GET.q}}">
<input type="text" name="q" value="{{request.GET.q}}" placeholder="Search complaints"/>
<input type="submit" name="submit" value="Search"/>
</form>

      <div><a href="{% url 'index2' %}" style="text-decoration:none;color:green;" class="four">Reload</a></div>

      <div><a href="{% url 'logout' %}" style="text-decoration:none;color:green;" class="four">Log Out</a></div>
<!--    <div class="bg order-1 order-md-2" style="background-image: url('/static/images/bg_1.jpg');"></div>-->
        <div class="contents">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-md-5">
                        <div class="form-block" style="background:transparent !important;"> <!--style="width:190vw"-->
                            <div class="text-center mb-5">
                                <h3>Welcome {{ user.username }}, please make your complaint.</h3>
                            </div>
                            <form method="POST" action="{% url 'index' %}">
                                {% csrf_token %}
                            <div class="form-group first">
                            <label class="col-sm-2 col-form-label" ><b>Date:</b></label>
                                <input type="text" name="date" required id="id_date" class="form-control" placeholder="Date format: Year-Month-Date E.g:2021-01-01">
                            <!--    <div class="col-sm-4">-->
<!--                            {{ form.date }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-8 col-form-label"><b>First Name:</b></label>
                                <input type="text" name="firstname" maxlength="100" required id="id_firstname" class="form-control" placeholder="Your Firstname">
<!--                            {{ form.firstname }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-8 col-form-label"><b>Last Name:</b></label>
                                <input type="text" name="lastname" maxlength="100" required id="id_lastname" class="form-control" placeholder="Your Lastname">
<!--                            {{ form.lastname }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-2 col-form-label"><b>State:</b></label>
                                <select name="state" required id="id_state" class="form-control">
  <option value="" selected>Select location by state</option>

  <option value="Abia">Abia</option>

  <option value="Abuja">Abuja</option>

  <option value="Adamawa">Adamawa</option>

  <option value="Akwa-Ibom">Akwa-Ibom</option>

  <option value="Anambra">Anambra</option>

  <option value="Bauchi">Bauchi</option>

  <option value="Bayelsa">Bayelsa</option>

  <option value="Benue">Benue</option>

  <option value="Borno">Borno</option>

  <option value="Cross-River">Cross-River</option>

  <option value="Delta">Delta</option>

  <option value="Ebonyi">Ebonyi</option>

  <option value="Edo">Edo</option>

  <option value="Ekiti">Ekiti</option>

  <option value="Enugu">Enugu</option>

  <option value="Gombe">Gombe</option>

  <option value="Imo">Imo</option>

  <option value="Jigawa">Jigawa</option>

  <option value="Kaduna">Kaduna</option>

  <option value="Kano">Kano</option>

  <option value="Katsina">Katsina</option>

  <option value="Kebbi">Kebbi</option>

  <option value="Kogi">Kogi</option>

  <option value="Kwara">Kwara</option>

  <option value="Lagos">Lagos</option>

  <option value="Nasarawa">Nasarawa</option>

  <option value="Niger">Niger</option>

  <option value="Ogun">Ogun</option>

  <option value="Ondo">Ondo</option>

  <option value="Osun">Osun</option>

  <option value="Oyo">Oyo</option>

  <option value="Plateau">Plateau</option>

  <option value="Rivers">Rivers</option>

  <option value="Sokoto">Sokoto</option>

  <option value="Taraba">Taraba</option>

  <option value="Yobe">Yobe</option>

  <option value="Zamfara">Zamfara</option>

</select>
<!--                            {{ form.state }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-8 col-form-label one"><b>Complaint is Against:</b></label>
                                <select name="complaintIsAgainst" required id="id_complaintIsAgainst" class="form-control">
  <option value="" selected>Select Option</option>

  <option value="Federal Government">Federal Government</option>

  <option value="State Government">State Government</option>

  <option value="Local Government">Local Government</option>

  <option value="Private Company">Private Company</option>

  <option value="Public Company">Public Company</option>

  <option value="Other">Other</option>

</select>
<!--                            {{ form.complaintIsAgainst }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-8 col-form-label one" style="margin-right:20px"><b>Nature of Complaint:</b></label>
                                <select name="natureOfComplaint" required id="id_natureOfComplaint" class="form-control">
  <option value="" selected>Select Option</option>

  <option value="Delay of Service">Delay of Service</option>

  <option value="Non compliance with Regulation">Non compliance with Regulation</option>

  <option value="Demand for Bribery">Demand for Bribery</option>

  <option value="Vandalism">Vandalism</option>

  <option value="Unrepaired or damaged infrastructure">Unrepaired or damaged infrastructure </option>

  <option value="Insecurity">Insecurity</option>

  <option value="Non Payment of Salary">Non Payment of Salary</option>

  <option value="Other">Other</option>

</select>
<!--                            {{ form.natureOfComplaint }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-2 col-form-label one" ><b>Complaint:</b></label>
                                <textarea name="complaint" cols="40" rows="10" maxlength="10000" required id="id_complaint" class="form-control" placeholder="Your Complaint">
</textarea>
<!--                            {{ form.complaint }}-->
                            </div>
                            <div class="form-group last mb-3">
                            <label class="col-sm-1 col-form-label"></label>
                            <button type="submit" class="btn btn-block py-2 btn-primary" style="background-color:darkgreen;border:solid 2px aquamarine;color:white;" id="three">Submit</button>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
  </div>
<br>
<br>
<!--   <div class="container">-->
<!--        <div class="row">-->
<!--            <div class="row">-->
{% if lists %}
<div class="container-fluid">
    <div class="contents order-2 order-md-1">
<table class="table table-striped table-bordered table-responsive-sm responsive table-responsive-md table-responsive-lg">
    <thead class="thead-dark">
    <tr>
        <th>Date</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>State</th>
        <th>Complaint is Against</th>
        <th>Nature of Complaint</th>
        <th>Complaint</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
{% for list in lists %}
    <tr>
        <td>{{ list.date }}</td>
        <td>{{ list.firstname }}</td>
        <td>{{ list.lastname }}</td>
        <td>{{ list.state }}</td>
        <td>{{ list.complaintIsAgainst }}</td>
        <td>{{ list.natureOfComplaint }}</td>
        <td>{{ list.complaint }}</td>
        <td>
            <a href="{% url 'edit' list.id %}" style="color:green;" class="four"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
            <a href="{% url 'delete' list.id %}" style="color:green;" class="four">Delete</a>
        </td>
    </tr>
{% endfor %}
    </tbody>
    </table>
    </div>
    </div>
{% endif %}
    {% if submitbutton == 'Search' and request.GET.q != '' %}
{% if results %}
<div class="container-fluid">
    <div class="contents order-2 order-md-1">
<table class="table table-striped table-bordered table-responsive-sm responsive table-responsive-md table-responsive-lg">
      <thead class="thead-dark">
    <tr>
        <th>Date</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>State</th>
        <th>Complaint is Against</th>
        <th>Nature of Complaint</th>
        <th>Complaint</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for result in results %}
    <tr>
        <td>{{ result.date }}</td>
        <td>{{ result.firstname }}</td>
        <td>{{ result.lastname }}</td>
        <td>{{ result.state }}</td>
        <td>{{ result.complaintIsAgainst }}</td>
        <td>{{ result.natureOfComplaint }}</td>
        <td>{{ result.complaint }}</td>
         <td>
            <a href="{% url 'edit' result.id %}" style="color:green;" class="four"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
            <a href="{% url 'delete' result.id %}" style="color:green;" class="four">Delete</a>
        </td>
    </tr>
{% endfor %}
  </tbody>
    {% else %}
No search results for this query
{% endif %}
{% endif %}

</table>
  </div>
    </div>
<!--</div>-->
<!--</div>-->
<!--</div>-->

  <p ><a href="{% url 'logout' %}" style="color:green;" class="four">Log Out</a></p>
{% else %}
  <p>You are not logged in</p>
  <a href="{% url 'login' %}" style="color:green;" class="four">Log In</a>
{% endif %}






<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
</body>
</html>  